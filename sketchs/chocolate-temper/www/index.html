<!DOCTYPE html>
<html>
	<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript">
		function refresh() {
			$('#machine').load('/arduino/machine');
			$('#hold').load('/arduino/hold');
			$('#chocolate_melted').load('/arduino/chocolate_melted');
			$('#heater').load('/arduino/heater');
			$('#bowl').load('/arduino/bowl');
		  	$('#air_temp').load('/arduino/air_temp');
		  	$('#choc_temp').load('/arduino/choc_temp');
		  	$('#melt_temp').load('/arduino/melt_temp');
		  	$('#temper_temp').load('/arduino/temper_temp');
		  	$('#hold_temp').load('/arduino/hold_temp');

		  	if($('#machine').text() == 'On')
			{
				$('#machine_button').text('Temper Machine Off');
			}
			else
			{
				$('#machine_button').text('Temper Machine On');
			}
			if($('#hold').text() == 'On')
			{
				$('#hold_button').text('Hold Off');
			}
			else
			{
				$('#hold_button').text('Hold On');
			}
	  	}
		$(document).ready(function(){
			$('#chocolate_melted_button').click(function(){
				$('#chocolate_melted').load('arduino/chocolate_melted_set');
				
			});

			$('#machine_button').click(function(){
				$('#machine').load('arduino/on_set');
				
			});
			$('#hold_button').click(function(){
				$('#hold').load('arduino/hold_set');
				
			});

			$('#update_button').click(function(){
				$('#melt_temp').load('arduino/melt_temp_set_'+ $("#melt_temp_val").val());
				$('#temper_temp').load($('arduino/temper_temp_set' + $("#temper_temp_val").val()));
			});
		});
	</script>
</head>
	<body onload="setInterval(refresh, 2000);">
		<div id="status">
			Status:
			<ul>
				<li>
					<button id="machine_button">Temper Machine On</button>
				</li>
				<li>
					Temper Machine: <div class="inline" id="machine">Off</div>
				</li>
				<li>
					<button id="hold_button">Hold Off</button>
				</li>
				<li>
					Temper Machine: <div class="inline" id="hold">Off</div>
				</li>
				<li>
					Chocolate Melted: <div class="inline" id="chocolate_melted">No</div>
				</li>
				<li>
					<button id="chocolate_melted_button">Chocolate is Melted</button>
				</li>
				<li>
					Heater: <div class="inline" id="heater">On</div>
				</li>
				<li>
					Bowl: <div class="inline" id="bowl">On</div>
				</li>
				<li>
					Air Tempurature: <div class="inline" id="air_temp">85</div>
				</li>
				<li>
					Chocolate Tempurature: <div class="inline" id="choc_temp">84</div>
				</li>
				<li>
					Melting Tempurature: <div class="inline" id="melt_temp">110</div>
				</li>
				<li>
					Tempering Tempurature: <div class="inline" id="temper_temp">86</div>
				</li>
				<li>
					Hold Tempurature: <div class="inline" id="hold_temp">88</div>
				</li>
				<li>
					Melting Tempurature: <input type="text" id="melt_temp_val" value="105">
				</li>
				<li>
					Temper Tempurature: <input type="text" id="temper_temp_val" value="86">
				</li>
				<li>
					Hold Tempurature: <input type="text" id="holdtemp_val" value="88">
				</li>
				<li>
					<button id="update_button">Update</button>
				</li>
			</ul>
		</div>
	</body>
</html>

